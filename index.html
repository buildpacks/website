<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-124323167-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-124323167-1');
    </script>

    <title>Cloud Native Buildpacks</title>
  </head>
  <body>
    <header>
      <a href="/" class="logo"><img src="/images/buildpacks-logo.svg" alt="Buildpacks.io Logo"></a>
      <nav>
        <input type="checkbox" id="mobile-nav-toggle">
        <label for="mobile-nav-toggle">&#9776;</label>
        <ul>
          <li><a href="#">Get Started</a></li>
          <li><a href="#" class="github-button icon-button bg-brand-blue button">GitHub</a></li>
        </ul>
      </nav>

    </header>
    <div class="inset-grey-container">
      <section class="container hero">
        <h1><span class="text-brand-pink">Buildpacks</span> are pluggable, modular tools that translate source code into container-ready artifacts such as OCI images.</h1>
        <p class="button-holder">
          <a href="#" class="bg-brand-pink button">Learn More</a>
          <a href="#">Read the Announcement</a>
        </p>
      </section>
    </div>
    <div class="container">
      <section class="py-5">
        <p>Buildpacks replace Dockerfiles in the app development lifecycle with a higher level of abstraction.</p>

        <p>Buildpacks:</p>
        <ul>
          <li>Provide a balance of control that reduces the operational burden on developers and supports enterprise operators who manage apps at scale.</li>
          <li>Ensure that apps meet security and compliance requirements without developer intervention.</li>
          <li>Provide automated delivery of both OS-level and application-level dependency upgrades, efficiently handling day-2 app operations that are often difficult to manage with Dockerfiles.</li>
          <li>Rely on compatibility guarantees (such as OS package ABI-compatibility, or JVM version compatibility) to safely apply patches without rebuilding artifacts and without changing application behavior.</li>
        </ul>

        <p>Buildpacks were first conceived by Heroku in 2011. Since then, they have been adopted by Cloud Foundry and other PaaS such as Gitlab, Knative, Deis, Dokku, and Drie.<p>

        <p><b>Cloud Native Buildpacks</b> are a new effort initiated by Pivotal and Heroku in January 2018. Cloud Native Buildpacks aim to unify the buildpack ecosystems with a platform-to-buildpack contract that is well-defined and that incorporates learnings from maintaining production-grade buildpacks for years at both Pivotal and Heroku, the largest contributors to the buildpack ecosystem.</p>

        <p>Cloud Native Buildpacks embrace modern container standards, such as the OCI image format. They take advantage of the latest capabilities of these standards, such as remote image layer rebasing on Docker API v2 registries.</p>
      </section>

      <section class="pt-5">
        <h2 class="mb-3">Getting Started with Cloud Native Buildpacks</h2>
        <h3>Download</h3>
        <p>Until cloud platforms such as Heroku and Cloud Foundry incorporate the <a href="https://github.com/buildpack/lifecycle" target="blank">Buildpack v3 Lifecycle</a>, the fastest way to try Cloud Native Buildpacks is via the `pack` CLI, which integrates with your local Docker daemon.</p>

        <p>Please make sure you have <a href="https://store.docker.com/search?type=edition&offering=community" target="blank">Docker Community Edition</a> installed on your machine.</p>
        <p>Next you will need to <a href="https://github.com/buildpack/pack/releases" target="blank">download</a> and install 'pack' - the Cloud Native Buildpack CLI. This will allow you to use Cloud Native Buildpacks in your local environment.</p>
        <p class="text-note"><b>Please note:</b> This project just started! Very few buildpacks currently support the Buildpack v3 API. By default, the CLI only includes a <a href="https://github.com/buildpack/samples/tree/master/nodejs-buildpack" target="blank">single sample v3 buildpack for Node.js</a>. To address this, we plan to support both the <a href="https://devcenter.heroku.com/articles/buildpack-api" target="blank">Heroku (v2a)</a> and <a href="https://docs.cloudfoundry.org/buildpacks/understand-buildpacks.html" target="blank">Cloud Foundry (v2b)</a> buildpack APIs in the CLI as well. Until then, this CLI is only useful for developing new v3 buildpacks, and for porting existing buildpacks to the v3 API.</p>

        <h3 class="mt-5">Building your application</h3>
        <p>Letâ€™s get started building your first application with Cloud Native Buildpacks.</p>
        <p>Build your application by passing in your application source code directory and image name to the <code class="highlight">pack build</code> command.</p>

        <pre class="code-block"><code>$ pack build --path &lt;path to source code&gt; &lt;repository name&gt;:&lt;image tag (optional)&gt;</code></pre>

        <p>Upon a successful build, you will see your image in your local Docker daemon.</p>

        <h3 class="mt-5">Running Your Application</h3>
        <p>Now that you have successfully built your OCI image using Cloud Native Buildpacks you can run your application using the Docker CLI.</p>

        <pre class="code-block"><code>$ docker run -e PORT=8000 -p 8000:8000 &lt;image name&gt;</code></pre>

        <p>Congratulations! You have now successfully built and run your first application with Cloud Native Buildpacks.</p>
      </section>

      <section class="pt-5 pb-5">
        <h2 class="mb-3">How Do Cloud Native Buildpacks Work?</h2>
        <p>Cloud Native Buildpacks employ a four-step build process. Each step runs in an isolated container so that registry credentials are not exposed to untrusted buildpack or app code. Note: Buildpack providers or operators can control the final footprint of generated app images by restricting which buildpacks can be used together. Check out the <a href="https://docs.google.com/document/d/1D-f2wAX5CUmbgNzj7joFTpFdUYeirVatiFicwKsMnFo/edit#heading=h.jaz2e7biieye" target="blank">Base Image Generation</a> section of the Buildpack API v3 working document for more info.</p>

        <h3 class="mt-5">Detect</h3>
        <p>Detection process for a buildpack group consisting of an optional APM buildpack, a Node.js buildpack, and a Ruby buildpack. Many groups may be candidates for detection. If all required buildpacks in a group pass detection, the group is selected and detection ends.</p>
        <img src="images/detect.png" alt="Detection Process" class="img-center">

        <h3 class="mt-5 pt-4">Analyze</h3>
        <p>If an existing image is present, metadata about the last build is recovered from the config layer. During the build step, buildpacks may choose to keep, replace, or delete individual directories based on the metadata. These directories are stored as layers.</p>
        <img src="images/analyze.png" alt="Analyze Process" class="img-center">

        <h3 class="mt-5 pt-4">Build</h3>
        <p>Each buildpack examines layer metadata from the previous build, re-generates any layer directories that need to be replaced, and updates metadata (if necessary). Buildpacks may choose to modify the app source directory. A transparent, inter-build cache may be used to improve performance and provide other buildpacks with build-time dependencies.</p>
        <img src="images/build.png" alt="Build Process" class="img-center">

        <h3 class="mt-5 pt-4">Export</h3>
        <p>The remote app layer and any re-generated buildpack layers are replaced. The config layer is updated with new metadata. This process uses image layer rebasing, which can be accomplished remotely against a Docker v2 registry.</p>
        <img src="images/export.png" alt="Export Process" class="img-center">

        <h3 class="mt-5 pt-4">Security Patching</h3>
        <p>When CVEs hit, certain image layers can be patched without changing app behavior. These layers can be rebased en-mass using remote image layer rebasing on recent Docker registries. This is a metadata change that requires minimal data transfer.</p>

        <p>Using this technique, CVEs in dependencies with strong compatibility guarantees (e.g., patches to OpenSSL, patches to the JVM) can be mitigated rapidly for many apps.</p>
        <img src="images/cve.png" alt="Security Patching" class="img-center">


      </section>

    </div>
    <footer class="mt-5">
      <div class="container pt-5">
        <p class="text-light">Reach out to the <a href="https://github.com/buildpack" target="blank">Buildpacks org</a> on Github to learn more.</p>
      </div>
    </footer>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
